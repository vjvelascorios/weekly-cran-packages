# Get table about the latest CRAN Packages
rm(list=ls())
options(timeout=300)
pacman::p_load(readr,rvest,janitor,tableHTML)
day <- Sys.Date()
dir <- ("C:\\Users\\vjvelascorios\\Documents\\weekly cran packages\\data/")
content <- read_html("https://cran.r-project.org/web/packages/available_packages_by_date.html")
table <- content %>% html_table(fill = TRUE)
table <- table[[1]] %>%
clean_names()
write_csv(table, file = paste0(dir,day," weekly cran package table.csv"))
write_tableHTML(tableHTML(table), file = paste0(dir,day," weekly cran package table.html"))
table
pacman::p_load(readr,rvest,janitor,tableHTML, tidyverse)
table %>%
mutate(Link=paste("https://cran.r-project.org/web/packages/",table$package,"/index.html"))
table <- table %>%
mutate(Link=paste("https://cran.r-project.org/web/packages/",table$package,"/index.html"))
table
View(table)
View(table)
table$package
paste("https://cran.r-project.org/web/packages",table$package,"/index.html")
paste("https://cran.r-project.org/web/packages/",table$package,"/index.html")
table$package
paste("https://cran.r-project.org/web/packages/",as.character(table$package),"/index.html")
table
# table$Link <-
str_replace_all(table$Link, " ", "")
# table <-
table %>%
mutate(Link=paste("https://cran.r-project.org/web/packages",table$package,"/index.html")) %>%
str_replace_all(Link, " ", "")
# table <-
table %>%
mutate(Link=paste("https://cran.r-project.org/web/packages",table$package,"/index.html")) %>%
str_replace_all(table$Link, " ", "")
# table <-
table %>%
mutate(Link=paste("https://cran.r-project.org/web/packages",table$package,"/index.html"))
# table <-
table %>%
mutate(Link=paste("https://cran.r-project.org/web/packages",table$package,"/index.html"))
table <- content %>% html_table(fill = TRUE)
table <- table[[1]] %>%
clean_names()
table <-
table %>%
mutate(Link=paste("https://cran.r-project.org/web/packages",table$package,"/index.html"))
table
View(table)
table$Link <- str_replace_all(table$Link, " ", "")
write_csv(table, file = paste0(dir,day," weekly cran package table.csv"))
write_tableHTML(tableHTML(table), file = paste0(dir,day," weekly cran package table.html"))
table <- content %>% html_table(fill = TRUE)
table <- table[[1]] %>%
clean_names()
table <-
table %>%
mutate(Link=paste("https://cran.r-project.org/web/packages/",table$package,"/index.html"))
table$Link <- str_replace_all(table$Link, " ", "")
write_csv(table, file = paste0(dir,day," weekly cran package table.csv"))
write_tableHTML(tableHTML(table), file = paste0(dir,day," weekly cran package table.html"))
View(table)
table <- content %>% html_table(fill = TRUE)
table <- table[[1]] %>%
clean_names()
# table <-
table %>%
mutate(Link=paste0("https://cran.r-project.org/web/packages/",table$package,"/index.html"))
table[1,4]
table[2,4]
table[2,3]
# table <-
table %>%
mutate(Link=paste0("https://cran.r-project.org/web/packages/",table$package,"/index.html"))
table[2,4]
table
table <-
table %>%
mutate(Link=paste0("https://cran.r-project.org/web/packages/",table$package,"/index.html"))
table[2,4]
paste0("https://cran.r-project.org/web/packages/",table$package,"/",table$package)
paste0("https://cran.r-project.org/web/packages/",table$package,"/",table$package,".pdf")
table <-
table %>%
mutate(Link=paste0("https://cran.r-project.org/web/packages/",table$package,"/index.html"),
"Package manual"=paste0("https://cran.r-project.org/web/packages/",table$package,"/",table$package,".pdf"))
table
# package manual
table %>%
mutate(
"Package manual"=paste0()
)
View(table)
write_csv(table, file = paste0(dir,day," weekly cran package table.csv"))
write_tableHTML(tableHTML(table), file = paste0(dir,day," weekly cran package table.html"))
table <-
table %>%
mutate(link=paste0("https://cran.r-project.org/web/packages/",table$package,"/index.html"),
"package manual"=paste0("https://cran.r-project.org/web/packages/",table$package,"/",table$package,".pdf"))
write_csv(table, file = paste0(dir,day," weekly cran package table.csv"))
write_tableHTML(tableHTML(table), file = paste0(dir,day," weekly cran package table.html"))
table <- content %>% html_table(fill = TRUE)
table <- table[[1]] %>%
clean_names()
table <-
table %>%
mutate(link=paste0("https://cran.r-project.org/web/packages/",table$package,"/index.html"),
"package manual"=paste0("https://cran.r-project.org/web/packages/",table$package,"/",table$package,".pdf"))
write_csv(table, file = paste0(dir,day," weekly cran package table.csv"))
write_tableHTML(tableHTML(table), file = paste0(dir,day," weekly cran package table.html"))
##### rtweets #####
# limpieza y paquetes
rm(list=ls())
##### rtweets #####
# limpieza y paquetes
options(timeout = 600)
rm(list=ls())
gc()
# options(timeout=200)
# devtools::install_github("mkearney/rtweet")
pacman::p_load(rtweet, graphTweets, igraph, readr,jsonlite,tidyr,httpuv,devtools)
# default
# auth_setup_default()
auth_as("default")
today <- Sys.Date()
# Tendencias
# Mundo
world_trends <- get_trends()
write_csv(world_trends, file = paste0("C:/Users/vjvelascorios/Documents/Daily-Trends/Daily-Trends-Twitter/Daily Databases/World/",today,".world", ".csv"))
# Countries
rm(list=ls())
# auth_setup_default()
today <- Sys.Date()
# write_csv(lista_countries[1], "C:\\Users\\vjvel\\Daily-Trends\\Daily-Trends-Twitter\\Misc/lista_paises.csv")
#
# # dataset de funciones para países
# l_paises_funciones <- paste0("trend_",
#        lista_countries[1]$name,
#        " <- get_trends(woeid='",
#        lista_countries[7]$woeid,"')") %>%
#   as_tibble()
#
# write_csv(l_paises_funciones, "C:\\Users\\vjvel\\Daily-Trends\\Daily-Trends-Twitter\\Misc/lista_funciones_paises.csv", col_names = F)
{
trend_Algeria <- get_trends(woeid='23424740')
trend_Argentina <- get_trends(woeid='23424747')
trend_Australia <- get_trends(woeid='23424748')
trend_Austria <- get_trends(woeid='23424750')
trend_Bahrain <- get_trends(woeid='23424753')
trend_Belarus <- get_trends(woeid='23424765')
trend_Belgium <- get_trends(woeid='23424757')
trend_Brazil <- get_trends(woeid='23424768')
trend_Canada <- get_trends(woeid='23424775')
trend_Chile <- get_trends(woeid='23424782')
trend_Colombia <- get_trends(woeid='23424787')
trend_Denmark <- get_trends(woeid='23424796')
trend_Dominican_Republic <- get_trends(woeid='23424800')
trend_Ecuador <- get_trends(woeid='23424801')
trend_Egypt <- get_trends(woeid='23424802')
trend_France <- get_trends(woeid='23424819')
trend_Germany <- get_trends(woeid='23424829')
trend_Ghana <- get_trends(woeid='23424824')
trend_Greece <- get_trends(woeid='23424833')
trend_Guatemala <- get_trends(woeid='23424834')
trend_India <- get_trends(woeid='23424848')
trend_Indonesia <- get_trends(woeid='23424846')
trend_Ireland <- get_trends(woeid='23424803')
trend_Israel <- get_trends(woeid='23424852')
trend_Italy <- get_trends(woeid='23424853')
trend_Japan <- get_trends(woeid='23424856')
trend_Jordan <- get_trends(woeid='23424860')
trend_Kenya <- get_trends(woeid='23424863')
trend_Korea <- get_trends(woeid='23424868')
trend_Kuwait <- get_trends(woeid='23424870')
trend_Latvia <- get_trends(woeid='23424874')
trend_Lebanon <- get_trends(woeid='23424873')
trend_Malaysia <- get_trends(woeid='23424901')
trend_Mexico <- get_trends(woeid='23424900')
trend_Netherlands <- get_trends(woeid='23424909')
trend_New_Zealand <- get_trends(woeid='23424916')
trend_Nigeria <- get_trends(woeid='23424908')
trend_Norway <- get_trends(woeid='23424910')
trend_Oman <- get_trends(woeid='23424898')
trend_Pakistan <- get_trends(woeid='23424922')
trend_Panama <- get_trends(woeid='23424924')
trend_Peru <- get_trends(woeid='23424919')
trend_Philippines <- get_trends(woeid='23424934')
trend_Poland <- get_trends(woeid='23424923')
trend_Portugal <- get_trends(woeid='23424925')
trend_Puerto_Rico <- get_trends(woeid='23424935')
trend_Qatar <- get_trends(woeid='23424930')
trend_Russia <- get_trends(woeid='23424936')
trend_Saudi_Arabia <- get_trends(woeid='23424938')
trend_Singapore <- get_trends(woeid='23424948')
trend_South_Africa <- get_trends(woeid='23424942')
trend_Spain <- get_trends(woeid='23424950')
trend_Sweden <- get_trends(woeid='23424954')
trend_Switzerland <- get_trends(woeid='23424957')
trend_Thailand <- get_trends(woeid='23424960')
trend_Turkey <- get_trends(woeid='23424969')
trend_Ukraine <- get_trends(woeid='23424976')
trend_United_Arab_Emirates <- get_trends(woeid='23424738')
trend_United_Kingdom <- get_trends(woeid='23424975')
trend_United_States <- get_trends(woeid='23424977')
trend_Venezuela <- get_trends(woeid='23424982')
trend_Vietnam <- get_trends(woeid='23424984')
}
datos_paises <- rbind(trend_Algeria,trend_Argentina,trend_Australia,trend_Austria,trend_Bahrain,trend_Belarus,trend_Belgium,trend_Brazil,trend_Canada,trend_Chile,trend_Colombia,trend_Denmark,trend_Dominican_Republic,trend_Ecuador,trend_Egypt,trend_France,trend_Germany,trend_Ghana,trend_Greece,trend_Guatemala,trend_India,trend_Indonesia,trend_Ireland,trend_Israel,trend_Italy,trend_Japan,trend_Jordan,trend_Kenya,trend_Korea,trend_Kuwait,trend_Latvia,trend_Lebanon,trend_Malaysia,trend_Mexico,trend_Netherlands,trend_New_Zealand,trend_Nigeria,trend_Norway,trend_Oman,trend_Pakistan,trend_Panama,trend_Peru,trend_Philippines,trend_Poland,trend_Portugal,trend_Puerto_Rico,trend_Qatar,trend_Russia,trend_Saudi_Arabia,trend_Singapore,trend_South_Africa,trend_Spain,trend_Sweden,trend_Switzerland,trend_Thailand,trend_Turkey,trend_Ukraine,trend_United_Arab_Emirates,trend_United_Kingdom,trend_United_States,trend_Venezuela,trend_Vietnam)
rm(trend_Algeria,trend_Argentina,trend_Australia,trend_Austria,trend_Bahrain,trend_Belarus,trend_Belgium,trend_Brazil,trend_Canada,trend_Chile,trend_Colombia,trend_Denmark,trend_Dominican_Republic,trend_Ecuador,trend_Egypt,trend_France,trend_Germany,trend_Ghana,trend_Greece,trend_Guatemala,trend_India,trend_Indonesia,trend_Ireland,trend_Israel,trend_Italy,trend_Japan,trend_Jordan,trend_Kenya,trend_Korea,trend_Kuwait,trend_Latvia,trend_Lebanon,trend_Malaysia,trend_Mexico,trend_Netherlands,trend_New_Zealand,trend_Nigeria,trend_Norway,trend_Oman,trend_Pakistan,trend_Panama,trend_Peru,trend_Philippines,trend_Poland,trend_Portugal,trend_Puerto_Rico,trend_Qatar,trend_Russia,trend_Saudi_Arabia,trend_Singapore,trend_South_Africa,trend_Spain,trend_Sweden,trend_Switzerland,trend_Thailand,trend_Turkey,trend_Ukraine,trend_United_Arab_Emirates,trend_United_Kingdom,trend_United_States,trend_Venezuela,trend_Vietnam)
write_csv(datos_paises, file = paste0("C:/Users/vjvelascorios/Documents/Daily-Trends/Daily-Trends-Twitter/Daily Databases/Countries/",today,".country level", ".csv"))
# México
mexico_trends <- get_trends(woeid = "23424900")
write_csv(mexico_trends, file = paste0("C:/Users/vjvelascorios/Documents/Daily-Trends/Daily-Trends-Twitter/Daily Databases/Mexico/",today,".mexico", ".csv"))
auth_as("n0strilll_bot")
# rm(list=ls())
# Cities
{
tendencias_Acapulco <- get_trends(woeid = "110978")
tendencias_Aguascalientes <- get_trends(woeid = "111579")
tendencias_Chihuahua <- get_trends(woeid = "115958")
tendencias_CiudadJuárez <- get_trends(woeid = "116556")
tendencias_Culiacán <- get_trends(woeid = "117994")
tendencias_Ecatepec <- get_trends(woeid = "118466")
tendencias_Guadalajara <- get_trends(woeid = "124162")
tendencias_Hermosillo <- get_trends(woeid = "124785")
tendencias_León <- get_trends(woeid = "131068")
tendencias_Mexicali <- get_trends(woeid = "133475")
tendencias_MexicoCity <- get_trends(woeid = "116545")
tendencias_Monterrey <- get_trends(woeid = "134047")
tendencias_Morelia <- get_trends(woeid = "134091")
tendencias_Mérida <- get_trends(woeid = "133327")
tendencias_Naucalpan <- get_trends(woeid = "134395")
tendencias_Nezahualcóyotl <- get_trends(woeid = "116564")
tendencias_Puebla <- get_trends(woeid = "137612")
tendencias_Querétaro <- get_trends(woeid = "138045")
tendencias_Saltillo <- get_trends(woeid = "141272")
tendencias_SanLuisPotosí <- get_trends(woeid = "144265")
tendencias_Tijuana <- get_trends(woeid = "149361")
tendencias_Toluca <- get_trends(woeid = "149769")
tendencias_Zapopan <- get_trends(woeid = "151582")
}
mx_cities <- rbind(tendencias_Acapulco,tendencias_Aguascalientes,tendencias_Chihuahua,tendencias_CiudadJuárez,tendencias_Culiacán,tendencias_Ecatepec,tendencias_Guadalajara,tendencias_Hermosillo,tendencias_León,tendencias_Mexicali,tendencias_MexicoCity,tendencias_Monterrey,tendencias_Morelia,tendencias_Mérida,tendencias_Naucalpan,tendencias_Nezahualcóyotl,tendencias_Puebla,tendencias_Querétaro,tendencias_Saltillo,tendencias_SanLuisPotosí,tendencias_Tijuana,tendencias_Toluca,tendencias_Zapopan)
rm(tendencias_Acapulco,tendencias_Aguascalientes,tendencias_Chihuahua,tendencias_CiudadJuárez,tendencias_Culiacán,tendencias_Ecatepec,tendencias_Guadalajara,tendencias_Hermosillo,tendencias_León,tendencias_Mexicali,tendencias_MexicoCity,tendencias_Monterrey,tendencias_Morelia,tendencias_Mérida,tendencias_Naucalpan,tendencias_Nezahualcóyotl,tendencias_Puebla,tendencias_Querétaro,tendencias_Saltillo,tendencias_SanLuisPotosí,tendencias_Tijuana,tendencias_Toluca,tendencias_Zapopan)
write_csv(mx_cities, file = paste0("C:/Users/vjvelascorios/Documents/Daily-Trends/Daily-Trends-Twitter/Daily Databases/Mexico/Mx-Cities/",today,".mx_cities", ".csv"))
# Creación del zip
archivos <- list.files(path = "C:/Users/vjvelascorios/Documents/Daily-Trends/Daily-Trends-Twitter/Daily Databases/", full.names = T, recursive = T)
utils::zip(zipfile = "C:/Users/vjvelascorios/Documents/Daily-Trends/Daily-Trends-Twitter/Archivo/archivo.zip", files = archivos)
# Get table about the latest CRAN Packages
rm(list=ls())
options(timeout=300)
pacman::p_load(readr,rvest,janitor,tableHTML,dplyr)
day <- Sys.Date()
dir <- ("/home/vjvelascorios/Documentos/weekly cran packages/data/")
content <- read_html("https://cran.r-project.org/web/packages/available_packages_by_date.html")
table <- content %>% html_table(fill = TRUE)
table <- table[[1]] %>%
clean_names()
table <-
table %>%
mutate(link=paste0("https://cran.r-project.org/web/packages/",table$package,"/index.html"),
"package manual"=paste0("https://cran.r-project.org/web/packages/",table$package,"/",table$package,".pdf"))
write_csv(table, file = paste0(dir,day," weekly cran package table.csv"))
write_tableHTML(tableHTML(table), file = paste0(dir,day," weekly cran package table.html"))
